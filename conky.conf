-- Conky, a system monitor https://github.com/brndnmtthws/conky
--
-- This configuration file is Lua code. You can write code in here, and it will
-- execute when Conky loads. You can use it to generate your own advanced
-- configurations.
--
-- Try this (remove the `--`):
--
--   print("Loading Conky config")
--
-- For more on Lua, see:
-- https://www.lua.org/pil/contents.html

conky.config = {

    own_window_argb_visual = true,
    own_window_argb_value = 255,
    double_buffer = true,

    alignment = 'top_right',
    background = false,
    border_width = 1,
    cpu_avg_samples = 2,
    default_color = 'ebdbb2',
    default_outline_color = 'ebdbb2',
    default_shade_color = 'ebdbb2',
    double_buffer = true,
    draw_borders = false,
    draw_graph_borders = true,
    draw_outline = false,
    draw_shades = false,
    extra_newline = false,
    font = 'DejaVu Sans Mono:size=9',
    gap_x = 30,
    gap_y = 60,
    minimum_height = 5,
    minimum_width = 5,
    net_avg_samples = 2,
    no_buffers = true,
    out_to_console = false,
    out_to_ncurses = false,
    out_to_stderr = false,
    out_to_x = true,
    own_window = true,
    own_window_transparent = false,
    own_window_colour = '242424',
    own_window_hints = 'undecorated,sticky,skip_taskbar,skip_pager,below',
    own_window_class = 'Conky',
    show_graph_range = false,
    show_graph_scale = false,
    stippled_borders = 0,
    update_interval = 1.0,
    uppercase = false,
    use_spacer = 'none',
    use_xft = true,
}

conky.text = [[
##########
# HEADER #
##########

${image /path/dist-logo.png -s 65x65 -p 5,5}
${voffset -20}${offset 82}${color 83a598}Hostname:$color $nodename
${offset 82}${color 83a598}OS:$color${execi 6000 lsb_release -d| awk '{$1=""; print $0}'}
${offset 82}${color 83a598}Kernel:$color $kernel
${offset 82}${color 83a598}Uptime:$color $uptime
#######
# CPU #
#######
${voffset 10}${color 458588}${font :size=9:bold}CPU ${hr 5}${font}
${color 83a598}Frequency:$color ${freq}MHz/${freq_g}GHz
${color 83a598}Temperature:${color}${hwmon 1 temp 1}Â°
${color 83a598}Model: ${color}${execi 6000 lscpu | grep 'Model name:' | awk '{print $3 " " $4 " " $5}'}
${color 83a598}Architecture: ${color}${execi 6000 lscpu | grep 'Architecture' | awk '{$1=""; print $0}'}
${color 83a598}Number of sockets: ${color}${execi 6000 lscpu | grep 'Socket(s):' | awk '{$1=""; print $0}'}
${color 83a598}Cores per socket: ${color}${execi 6000 lscpu | grep 'Core(s)' | awk '{$1=$2=$3=""; print $0}'}
${color 83a598}Threads per core: ${color}${execi 6000 lscpu | grep 'Thread(s)' | awk '{$1=$2=$3=""; print $0}'}
${color 83a598}Number of logical cores: ${color}${execi 6000 lscpu | grep 'CPU(s):' | head -n 1 | awk '{$1=""; print $0}'}

${color 83a598}CPU Usage:$color $cpu% ${cpubar 10}
${cpugraph 25,310}
#######
# RAM #
#######
${color 458588}${font :size=9:bold}RAM ${hr 5}${font}
${color 83a598}RAM Usage:$color $mem/$memmax
$memperc% ${membar 10}
${color 83a598}Swap Usage:$color $swap/$swapmax
$swapperc% ${swapbar 10}
#######
# I/O #
#######

${color 458588}${font :size=9:bold}I/O ${hr 5}${font}
${color 83a598}Disk used: / $color${fs_used /} of ${fs_size /} ${fs_bar 10 /}
${color 83a598}Percentage used: $color$fs_used_perc%
${color 83a598}Read: ${color}${diskio_read}/s${alignr}${color 83a598}Write:${color}${diskio_write}/s
${diskiograph_read 25,150} ${alignr}${diskiograph_write 25,150}
###########
# NETWORK #
###########
${color 458588}${font :size=9:bold}NETWORK ${hr 5}${font}
${color 83a598}eth0 ${color ebdbb2}${addr eth0}
Down:$color ${downspeed eth0}/s ${alignr} ${color 83a598}Up:$color ${upspeed eth0}/s
${downspeedgraph eth0 25,150} ${alignr}${upspeedgraph eth0 25,150}
${color 83a598}wlan0 ${color ebdbb2}${addr wlan0}
Down:$color ${downspeed wlan0}/s ${alignr} ${color 83a598}Up:$color ${upspeed wlan0}/s
${downspeedgraph wlp0s20f3 25,150} ${alignr}${upspeedgraph wlp0s20f3 25,150}
${color 83a598}tun0 ${color ebdbb2}${addr tun0}
Down:$color ${downspeed tun0}/s ${alignr} ${color 83a598}Up:$color ${upspeed tun0}/s
${downspeedgraph tun0 25,150} ${alignr}${upspeedgraph tun0 25,150}
#############
# PROCESSES #
#############
${color 458588}${font :size=9:bold}PROCESSES ${hr 5}${font}
${color 83a598}${font :size=8:bold} NAME                             PID    CPU%    MEM%${font}
${color ebdbb2} ${top name 1} ${top pid 1} ${top cpu 1} ${top mem 1}
${color ebdbb2} ${top name 2} ${top pid 2} ${top cpu 2} ${top mem 2}
${color ebdbb2} ${top name 3} ${top pid 3} ${top cpu 3} ${top mem 3}
${color ebdbb2} ${top name 4} ${top pid 4} ${top cpu 4} ${top mem 4}
${color ebdbb2} ${top name 5} ${top pid 5} ${top cpu 5} ${top mem 5}
${color ebdbb2} ${top name 6} ${top pid 6} ${top cpu 6} ${top mem 6}
${color ebdbb2} ${top name 7} ${top pid 7} ${top cpu 7} ${top mem 7}
${color ebdbb2} ${top name 8} ${top pid 8} ${top cpu 8} ${top mem 8}
${color ebdbb2} ${top name 9} ${top pid 9} ${top cpu 9} ${top mem 9}
${color ebdbb2} ${top name 10} ${top pid 10} ${top cpu 10} ${top mem 10}
###########
# BATTERY #
###########

${color 458588}${font :size=9:bold}BATTERY INFO ${hr 5}${font}
${color 83a598}Vendor.Model:${color}${execi 6000 upower -i /org/freedesktop/UPower/devices/battery_BAT0 | grep 'vendor' | awk '{$1=""; print $0;}'}.${execi 6000 upower -i /org/freedesktop/UPower/devices/battery_BAT0 | grep 'model' | awk '{$1=""; print $0;}'}, ${color 83a598}
Tech:${color}${execi 6000 upower -i /org/freedesktop/UPower/devices/battery_BAT0 | grep 'technology' | awk '{$1=""; print $0;}'} (${execi 6000 upower -i /org/freedesktop/UPower/devices/battery_BAT0 | grep 'energy-full-design' | awk '{$1=""; print $0;}'})
${battery_bar 10}
${color 83a598}Status: ${color}${battery} (${execi 2 upower -i /org/freedesktop/UPower/devices/battery_BAT0 | grep 'energy:' | awk '{ print $2;}'}/${execi 2 upower -i /org/freedesktop/UPower/devices/battery_BAT0 | grep 'energy-full:' | awk '{$1=""; print $0;}'})
${color 83a598}Time left: ${color}${battery_time}]]
